# 第 1 轮对话

```markdown
## 任务

我正在做一个 rust 的 rpc 框架，它支持：

- client/server 异步双向通信，包含：
  - 信号控制（request、response、event）
  - 实时数据传输（stream，需要支持时间同步）
- 局域网零配置服务发现（可选能力，支持手动指定）

目标场景是用于 client 和 server 之间的实时通信，

方便开发者快速注册实现自定义的命令处理、事件监听和数据流的实时传输。

## 目标

现在请你设计一下整个系统的模块构成和技术栈，以及整体的开发版本规划。

- 完成项目的整体架构和技术栈设计，并更新到 docs/README.md
- 完成项目开发版本规划，并更新到 docs/ROADMAP.md
```

问题：

- 生成的文档太繁琐，尤其是 Roadmap，编辑不可控
- Roadmap 里的功能模块无法串行实现，会造成模块重写
- 后续 readme + architecture + roadmap 文件内容编辑同步比较困难

优化：

- 先要求生成 README 包含：
  - 项目主要功能亮点
  - 项目文件目录结构
  - 项目拆分后的模块列表
  - 给出每个子模块的：
    - 功能列表 + 依赖的技术栈
    - 核心 API + 示例代码
  - 主项目快速开始的核心 API + 示例代码
- 去掉 architecture 和 roadmap 规划文件
  - 将所有的蓝图指引放到 readme 下
  - 一个源，而非分散管理
  - 方便引导 AI 编辑修改局部内容

# 第 2 轮对话

```markdown
请按照下面的格式重新整理 readme 和本项目的设计

- 项目标题 + slogan
- 项目一句话简介
- 项目亮点
- 项目架构
  - 目录结构（模块划分 + 职责）
  - 模块列表
    - 模块作用和职责简介
    - 子模块文件划分（一句话简介）
    - 依赖的外部 package 列表和作用
    - 核心 API 设计 + 精简示例代码
- 项目快速上手
  - client / server 示例
  - 核心概念与代码演示

补充信息：

- 项目使用 monorepo（基于 cargo workspace）
- 数据序列化/反序列化使用 postcard 替代 bincode（后者不再维护了
- 默认启用 client 局域网零配置发现 server，但也支持手动指定 server 地址连接（公网环境）
```

目录结构设计的不是很理想，需要再优化
